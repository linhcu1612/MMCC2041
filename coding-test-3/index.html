<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <link href="styles.css" rel="stylesheet" />
    <title>Coding Test 3</title>
    <script src="https://code.jquery.com/jquery-3.6.1.js"></script>
    <script>
        $(document).ready(function () {
            const arr = [$('h1'), $('#text_1'), $('#text_2'), $('#text_3'), $('img'), $('#text_4')];

            const hideAll = () => { arr.map((x) => {
                if (x.css('display') != 'none') {
                    x.hide();
                }
            })}

            hideAll();
            $('h1').show();

            $('video').on('timeupdate', function () {
                let curTime = Math.round($(this).get(0).currentTime);
                hideAll();
                if (curTime < 5) {
                    $('h1').show();
                } else if (curTime >= 5 && curTime < 12) {
                    $('#text_1').show();
                } else if (curTime >= 12 && curTime < 20) {
                    $('#text_2').show();
                    $('img').show();
                } else if (curTime >= 20 && curTime < 30) {
                    $('#text_3').show();
                } else if (curTime >= 30) {
                    $('#text_4').show();
                }
            });

            $('video').on('ended', function () {
                $('section').fadeOut(200);
            });
        });
        // This approach have a drawback that it will set the display property to none for all 
        // the elements every time the video time is updated. This will ensure that when user skips the video to any time
        // or the user want to back to anytime in the video, the correct script will be render correctly. 
    </script>
</head>

<body>
    <section>
        <video width="720" controls>
            <source src="images/hermit-crab.mp4" type="video/mp4">
            Your browser does not support the this video file.
        </video>

        <h1>Hermit Crabs</h1>


        

        <p id="text_1"> Hermit crabs are decapod crustaceans of the superfamily Paguroidea. <br><br>
            Most of the approximately 1,110 species possess an asymmetric abdomen concealed in a scavenged mollusc
            shell.
        </p>

        <p id="text_2"> As hermit crabs grow, they require larger shells. Since suitable intact
            gastropod shells are sometimes a limited resource, vigorous competition often occurs among hermit crabs for
            shells.
        </p>

        <img src="images/crab-fight.png" alt="Crab Fight">

        <p id="text_3"> Hermit crabs with too-small shells cannot grow as fast as those with
            well-fitting shells, and are more likely to be eaten if they cannot retract completely into the
            shell.Therefore, as the hermit crab grows in size, it must find a larger shell and abandon the previous one.
        </p>

        <p id="text_4"> You can read more about hermit crabs on <a href="https://en.wikipedia.org/wiki/Hermit_crab" target="_blank">Wikipedia</a>.
        </p>
    </section>

</body>

</html>